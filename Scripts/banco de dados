drop database if exists PETSHOP;
CREATE SCHEMA PETSHOP;
USE PETSHOP;

CREATE TABLE ANIMAL (
	IDANIMAL INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	NOME VARCHAR (255),
	ESPECIE VARCHAR(100),
	RACA VARCHAR(100),
	DATANASCIMENTO DATE,
	PESO DOUBLE,
	IDCLIENTE INT NOT NULL,
	FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTE (IDCLIENTE)
);

CREATE TABLE SERVICO (
	IDSERVICO INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	NOME VARCHAR(255) NOT NULL,
	NECESSITACONSULTA BOOLEAN NOT NULL,
	PRECO DOUBLE NOT NULL
);

CREATE TABLE PESSOA (
	 IDPESSOA INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	 NOME VARCHAR(255) NOT NULL,
	 CPF VARCHAR(11) NOT NULL,
	 RUA VARCHAR(255) NOT NULL,
	 NUMERO VARCHAR(100) NOT NULL,
	 BAIRRO VARCHAR(100) NOT NULL,
	 CEP INT(8) NOT NULL,
	 EMAIL VARCHAR(100) NOT NULL,
	 TELEFONE VARCHAR(100) NOT NULL
 );
 
CREATE TABLE CLIENTE (
	IDCLIENTE INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    IDLISTAANIMAIS INT NOT NULL,
	IDPESSOA INT NOT NULL,
    FOREIGN KEY (IDLISTAANIMAIS) REFERENCES LISTAANIMAIS (IDLISTAANIMAIS),
    FOREIGN KEY (IDPESSOA) REFERENCES PESSOA (IDPESSOA)
    );
       
CREATE TABLE FUNCIONARIO (
	IDFUNCINARIO INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    CARGO VARCHAR(100) NOT NULL,
    SALARIO DOUBLE NOT NULL,
    IDLISTASERVICOS INT NOT NULL,
	IDPESSOA INT NOT NULL,
    FOREIGN KEY (IDLISTASERVICOS) REFERENCES LISTASERVICOS (IDLISTASERVICOS),
    FOREIGN KEY (IDPESSOA) REFERENCES PESSOA (IDPESSOA)
    );
   
CREATE TABLE LISTASERVICOS (
	IDLISTASERVICOS INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    IDSERVICO INT NOT NULL,
    IDFUNCIONARIO INT NOT NULL,
    FOREIGN KEY (IDSERVICO) REFERENCES SERVICO (IDSERVICO),
    FOREIGN KEY (IDFUNCIONARIO) REFERENCES FUNCIONARIO(IDFUNCIONARIO)
);
    
CREATE TABLE LISTAANIMAIS (
	IDLISTAANIMAIS INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	IDANIMAL INT NOT NULL,
    IDCLIENTE INT NOT NULL,
    FOREIGN KEY (IDANIMAL) REFERENCES ANIMAL (IDANINAL),
    FOREIGN KEY (IDCLIENTE) REFERENCES CLIENTE (IDCLIENTE)    
);
 
